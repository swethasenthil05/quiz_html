<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    body{
        background-image: url("https://marketplace.canva.com/EAFCO6pfthY/1/0/1600w/canva-blue-green-watercolor-linktree-background-F2CyNS5sQdM.jpg");
    }
    ul{
       display: flex;
       flex-direction: row;
       list-style: none; 
       float: right;   
       position: absolute;
       top: 5px;
       right: 150px;
    margin: 0;
    }
    
    li{
        padding: 20px;
    }
    .p1{
        position: relative;
        left: 50px;
        top: 120px;
        font-size: 50px;
        color: gray;
       text-shadow: 2px 2px pink;
       
    }
    .p2{
        position: relative;
        top: 100px;
        left: 60px;
        font-size: 20px;
        color: orange;
    }
    div{
        position: relative;
        top: 120px;
        left: 60px;
        width: 600px;
        color: grey;
    }
    button:hover{
        background-color: green ;
    }
    .login-button{
        border: none;
        border-radius: 26px;
        
    }
    
    
    
</style>
</head>
<body>
    <h3 style="text-transform: uppercase; margin-left: 50px; font-family: papyrus;">
        logo
    </h3>
    
    <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="aboutus.html">About Us</a></li>
        <li><a href="contactus.html">Contact Us</a></li>
        <li class="login-button"><a href="login.html">login</a></li>
    </ul>
    <p class="p1">Web Design Websites</p>
    <p class="p2">Building Digital Experiences your Audiences will Love</p2>
    <div>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Quo labore error expedita tempore vero pariatur nemo magnam non iusto voluptas quaerat, debitis maiores mollitia eaque cupiditate sed placeat officia inventore.</div>
    <form style=" position: relative; top: 150px; left: 60px;">
        <input style="width: 300px; height: 25px; border-radius: 20px;" type="email" placeholder="Enter your Email Address">
    </form>
    <button style=" position: relative; top: 123px; left: 400px; height: 30px; width: 75px; border-radius: 50px; padding: 3px; background-color: blueviolet; box-shadow: 2px 2px;" >sign up</button>
    
    
 <div class="container1">
        <h1 style="text-align: center;" id="heading">Mcq questions</h1>
        
        <div class="div2">1.who wrote the play romeo and juliet</div>
        <ul id="ul">
        <li><input type="radio" name="q1" value="A">  Charles Dickens</li>  
        <li><input type="radio" name="q1" value="B">  William Shakespeare</li>
        <li><input type="radio" name="q1" value="C">  Leo Tolstoy</li>
        <li><input type="radio" name="q1" value="D">  Mark Twain</li>
    </ul>
    <button onclick="submit()">next</button>
    </div>
    .div2{
             font-size: 25px;
             font-weight: bold;
             margin: 70px;
             text-align: center;
        }
        ul{
            display: flex;
            flex-direction: column;
            list-style: none;
            position: absolute;
            left: 200px;
            top: 155px;
        }
        li{
            padding: 5px;
            font-size: 20px;
        }
        button{
            height: 35px;
            width: 65px;
            position: absolute;
            bottom: 40px;
            right: 30px;
            background-color: green;
        }
    
</body>
</html>
 

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            background-color: #4f5a3b9e;
        }

        #container1 {
            height: 450px;
            width: 700px;
            background-color: lightgray;
            position: relative;
            top: 100px;
            left: 340px;
            border-radius: 60px;
            /* border-style: inset; */
            border-left: solid 10px #b093b87e;
            border-top: solid 10px #ca31bd23;
             border-right: solid 10px #6aa5b888;
              border-bottom: solid 10px #93c5d4fb;
            font-family: papyrus;

        }


        #heading {

            position: relative;
            text-align: center;
            top: 25px;
            text-shadow: 0 0 5px blueviolet;
            box-shadow: inset;
            text-decoration-line: underline;
            text-decoration-color: green;
        }
        .li.options{
            font-weight: "Macondo", cursive;;
        }

        #question-container {
            display: flex;
            flex-direction: column;
            list-style: none;
            position: absolute;
            left: 180px;
            top: 110px;
            color: darkolivegreen;

        }

        .btn {
            height: 35px;
            min-width: 65px;
            position: absolute;
            bottom: 40px;
            right: 50px;
            background-color: rgb(37, 165, 37);
            font-style: italic;
            font-weight: bold;
            border-radius: 50px;
            color: white;
        }

        
        .btn.prv{
            position: absolute;
            bottom: 40px;
            max-width: 65px;
            left: 50px;
            background-color: whitesmoke;
            color: black;
        }

        .btn.rea{
            position: absolute;
            left: 150px;
            width: 100px;
            top: 80px;
        }

        
        #resultDiv {
            text-align: center;
            font-size: 30px;
            color: darkblue;
            font-weight: bold;
             position: absolute;
            top: 140px;
            left: 130px;
        }
        /* #re-attempt{
            position: absolute;
            top: 100px ;
            left: 150px;
            padding: 5px;
            background-color: rgb(32, 134, 32);
            border-radius: 20px;
        } */
        #message-div{
           position: absolute;
            top: 380px;
            left: 420px;
            color: red;
           
        }
        
       

        
    </style>
</head>

<body>
    <div id="container1">
        <h1 id="heading">Mcq questions</h1>

        <div id="question-container" >
            <button class="prv"></button>
        </div>
        <button id="next-btn" class="btn">Next </button>
       <button id="prev-btn"  class="btn prv"> back</button>
        <div id="message-div"></div>
        
        <div id="resultDiv"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script>
        var questions = [
            { question: "1. what is the captital of france?", options: ["berlin", "madrid", "paris", "rome"], correct: "paris"},
            { question: "2. which planet is known as red planet?", options: ["earth", "mars", "jupiter", "venus"], correct: "mars"},
            { question: "3. who wrote Hamlet?", options: ["Charles", "Williams", "Mark Twain", "Leo Tolstoy"], correct: "william"},
            {question:"4. what is the largest ocean on earth?",options: ["Indian","Atlantic","Pacific","Arctic"],correct:"Pacific"},
            {question:"5. what is the currency of japan?",options: ["Yen","Dollar","Euro","Won"],correct:"Yen"},
            {question:"6. which organ specifies bloood in human body?",options: ["Heart","liver","Kidney","lungs"],correct:"kidney"},
            {question:"7. what is the hardest natural substance?",options: ["Gold","Iron","Diamond","Platinum"],correct:"Diamond"},
            {question:"8. who is known as father of computer?",options: ["Alan Turing","Charles Babbage","Bill Gates","Steve Jobs"],correct:"Charles Babbage"},
            {question:"9. which country known as land of raising sun?",options: ["China","Japan","Thailand","South Korea"],correct:"China"},
            {question:"10. which river is the longest in the world?",options: ["Amazon","Mississippi","Nile","Yangtze"],correct:"Nile"},

        ];
        let currentIndex = 0;
        var answers = [];
        const questionContainer = document.getElementById('question-container');
        const nextBtn = document.getElementById('next-btn');
        const prevBtn=document.getElementById('prev-btn')
        const resultDiv = document.getElementById('resultDiv');

        $(document).ready(function() {
            renderQuestion();
            getQuizFromAPI();
        });

        function renderQuestion() {  
            const q = questions[currentIndex];
            const ans = answers[currentIndex];
            const opts = q.options.map(opt =>{
                var sel = "";
                if(ans === opt){
                    sel = "checked";
                }
                return `<li style="list-style-type:none; padding:4px; font-size: 20px;"><label for="${opt}"><input type="radio" name="answer" id="${opt}" value="${opt}" ${sel}>${opt}</label></li>`;
                
            }
            ).join('');

            
            questionContainer.innerHTML = `
            <div class="question-block">
                <h2 >${q.question}</h2>
                <ul class="options">${opts}</ul>
                </div>`;

          
    
            // prevBtn.disabled = currentIndex === 0; 
            prevBtn.style.display = (currentIndex === 0)?"none":"block"; 
            nextBtn.textContent = currentIndex === questions.length - 1 ? 'submit-quiz' : 'Next';
            
        }
        nextBtn.addEventListener('click', () => {
            const selected = document.querySelector('input[name="answer"]:checked');

            let messageDiv=document.getElementById("message-div")
           if (!selected) {
              
                messageDiv.textContent="please select an option"
                return;
               
            }
            messageDiv.innerHTML=`
            <div class="message-div"></div>`;
             messageDiv.textContent='';

 
            answers[currentIndex] = selected.value;
            currentIndex++;


            if (currentIndex < questions.length) {
                renderQuestion();
            } else {
                showResult();
            }
        });

        
   
    // function prevQuestion() {   
    //     const selected = document.querySelector('input[name="answer"]:checked');
    //     answers[currentIndex] = selected.value;
    //     if (currentIndex > 0) {
    //         currentIndex--;        
    //         renderQuestion();
            
    //     }
    // }

    function prevQuestion() {   
    const selected = document.querySelector('input[name="answer"]:checked');
    
    
    if (selected) {
        answers[currentIndex] = selected.value;
    }

    
    if (currentIndex > 0) {
        currentIndex--;        
        renderQuestion();  
    }
}
    prevBtn.addEventListener('click', prevQuestion);

   


       
        function showResult() {
            let score = 0;
            questions.forEach((q, i) => {
                if (answers[i] === q.correct) score++;

            });

            questionContainer.style.display = 'none';
            nextBtn.style.display = 'none';
            prevBtn.style.display = 'none';

            resultDiv.style.display = 'block'; 

            resultDiv.textContent = `Result: You have scored ${score} out of ${questions.length}.`;
            resultDiv.innerHTML += `
            <button id="re-attempt" class="btn rea" onclick="handleRetry()">Re-Attempt Quiz </button>`

        }
        function handleRetry() {
            currentIndex = 0;    
            resultDiv.style.display = 'none';  
            questionContainer.style.display = 'block';
            nextBtn.style.display = 'block';   
            prevBtn.style.display = 'block';            
            answers = [];
            renderQuestion();

        }

        function getQuizFromAPI(){

            // $("#resultDiv").html("<h1>Swetha</h1>");

            $.ajax({
                     url: 'http://127.0.0.1:8000/getQuiz', // Sample API endpoint
                     method: 'GET',
                     dataType: 'json',
                     success: function(data) {
                     // Update the content on success
                        questions = data;
                        renderQuestion();
                     },
                     error: function(error) { 
                     // Handle errors
                     console.error('Error:', error);
                     }
                 });

                 return;

        //     $.ajax({
        //     url: "http://127.0.0.1:3000/getQuiz", // The URL to send the request to
        //     method: "GET", // The HTTP method (GET, POST, etc.)
        //     // dataType: "json", // The expected data type of the response
        //     success: function(data) {
        //         console.log("Data received:", data);
        //         // Process the received data here
        //     },
        //     error: function(xhr, status, error) {
        //         console.log(status);
        //         console.error("AJAX error:", status, error);
        //         // Handle errors here
        //     }
        //     });
         }


    </script>
</body>

</html>